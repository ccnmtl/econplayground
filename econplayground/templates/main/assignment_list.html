{% extends 'base.html' %}
{% load static econ_auth markup %}

{% block title %}Assignment Builder{% endblock %}

{% block pagetitle %}<h1 class="mt-4">Assignment Builder</h1>{% endblock %}

{% block content %}
    <a class="btn btn-primary mb-2"
       role="button"
       title="Create Assignment"
       href="{% url 'assignment_create' %}"
    >
        Create Assignment
    </a>
    <section class="row">
        <div class="col-xl-8 col-lg-8 col-md-12 col-sm-12 col-xs-12">
            <form class="form featuredgraphs-form">
                <ul class="list-group featuredgraphs-list">
                    {% for assignment in assignment_list %}
                        <li class="list-group-item d-flex align-items-center">
                            <div class="graph-title mr-auto">
                                <a href="{% url 'assignment_detail' assignment.pk %}" title="{{assignment.title}}">
                                    {{assignment.title}}
                                </a>
                            </div>
                            <button class="btn btn-sm col-auto {% if assignment.published %}btn-outline-{% else %}btn-{% endif %}primary mx-2"
                                    title="{% if assignment.published %}Unpublish{% else %}Publish{% endif %} {{assignment.title}}"
                            >
                                {% if assignment.published %}Unpublish{% else %}Publish{% endif %}
                                <svg viewBox="0 0 16 16" 
                                    class="octicon octicon-x ml-1 mt-1"
                                >
                                    <path fill-rule="evenodd"
                                        d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"></path>
                                </svg>
                            </button>
                            <a role="button"
                               class="btn btn-sm btn-danger mr-1"
                               title="Remove {{assignment.title}} from Assignment List"
                               href="{% url 'assignment_delete' assignment.pk %}?remove=true"
                            >
                                <svg height="32" 
                                     class="octicon octicon-x" 
                                     viewBox="0 0 12 16" 
                                     version="1.1" 
                                     width="24" 
                                     aria-hidden="true"
                                >
                                    <path fill-rule="evenodd" 
                                          d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path>
                                </svg>
                            </a>
                        </li>
                    {% empty %}
                        Assignments you make can be found here
                    {% endfor %}
                </ul>
            </form>
        </div>
    </section>
{% endblock %}
