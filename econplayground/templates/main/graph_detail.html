{% extends 'base.html' %}
{% load static %}

{% block title %}Graph: {{object.title}}{% endblock %}

{% block js %}
    <script>
    if (!window.EconPlayground) {
        window.EconPlayground = {};
    }

    window.EconPlayground['LTIPostGrade'] = '{% url 'lti-post-grade' %}';
    </script>
    <script src="{% static 'econplayground.js/viewer.js' %}"></script>
{% endblock %}

{% block content %}
    <h1>
        Graph Viewer
        {% if request.user.is_staff %}
            (edit mode)
        {% endif %}
    </h1>

    <div id="root"></div>

    {% if request.user.is_staff %}
        <a role="button" class="btn btn-danger btn-sm float-md-right"
           href="{% url 'graph_delete' object.pk %}">Delete Graph</a>

        <div class="clearfix"></div>

        <hr />

        <div class="form-group row">
            <label for="embed-url" class="col-sm-2 col-form-label">Embed URL:</label>
            <div class="col-sm-10">
                <input id="embed-url" class="form-control form-control-sm" type="text"
                       value="{{embed_url}}" readonly>
            </div>
        </div>
    {% endif %}
{% endblock %}
