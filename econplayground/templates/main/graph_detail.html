{% extends 'base.html' %}
{% load static %}

{% block title %}Graph: {{object.title}}{% endblock %}

{% block js %}
    <script src="{% static 'econplayground.js/viewer.js' %}"></script>
{% endblock %}

{% block content %}
    <h1>
        Graph Viewer
        {% if request.user.is_staff %}
            (edit mode)
        {% endif %}
    </h1>

    <div id="root"></div>

    {% if request.user.is_staff %}
        <a role="button" class="btn btn-danger btn-sm float-md-right"
           href="{% url 'graph_delete' object.pk %}">Delete Graph</a>

        <div class="clearfix"></div>

        <hr />

        <div>
            <!--
            TODO: display this outside of canvas
            <h3>Embed Graph</h3>
            <textarea class="form-control" placeholder rows="1" autocomplete="off" style="resize: none;"><iframe width="560" height="600" src="{{ request.scheme }}://{{ request.get_host }}{% url 'graph_embed' object.pk %}"></iframe></textarea>
            -->

            <form id="asset-embed-form" action="." method="post">{% csrf_token %}
                <input type="hidden" name="return_url"
                       value="https://courseworks2.columbia.edu/courses/54465/external_content/success/external_tool_dialog">
                <input type="hidden" name="width" value="635" />
                <input type="hidden" name="height" value="450" />
                <button type="submit" class="btn btn-primary btn-sm">Embed</button>
            </form>
        </div>
    {% endif %}
{% endblock %}
